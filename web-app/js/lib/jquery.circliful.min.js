(function(e){e.fn.circliful=function(t,n){var r=e.extend({fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null},t);return this.each(function(){function L(t,n,r){e("<span></span>").appendTo(t).addClass(n).text(f).prepend(s).css({"line-height":r+"px","font-size":i.fontsize+"px"})}function A(t,n){e("<span></span>").appendTo(t).addClass("circle-info-half").text(l).css("line-height",i.dimension*n+"px")}function O(t){e.each(n,function(n,s){if(t.data(s)!=undefined){i[s]=t.data(s)}else{i[s]=e(r).attr(s)}if(s=="fill"&&t.data("fill")!=undefined){a=true}})}function M(n){p.clearRect(0,0,h.width,h.height);p.beginPath();p.arc(d,v,y,w,b,false);p.lineWidth=i.width+1;p.strokeStyle=i.bgcolor;p.stroke();if(a){p.fillStyle=i.fill;p.fill()}p.beginPath();p.arc(d,v,y,-N,T*n-N,false);if(i.border=="outline"){p.lineWidth=i.width+13}else if(i.border=="inline"){p.lineWidth=i.width-13}p.strokeStyle=i.fgcolor;p.stroke();if(S<o){S+=x;requestAnimationFrame(function(){M(Math.min(S,o)/100)},u)}if(S==o&&k&&typeof t!="undefined"){if(e.isFunction(t.complete)){t.complete();k=false}}}var n=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border"];var i={};var s="";var o=0;var u=e(this);var a=false;var f,l;u.addClass("circliful");O(u);if(u.data("text")!=undefined){f=u.data("text");if(u.data("icon")!=undefined){s=e("<i></i>").addClass("fa "+e(this).data("icon")).css({color:i.iconcolor,"font-size":i.iconsize})}if(u.data("type")!=undefined){C=e(this).data("type");if(C=="half"){L(u,"circle-text-half",i.dimension/1.45)}else{L(u,"circle-text",i.dimension)}}else{L(u,"circle-text",i.dimension)}}if(e(this).data("total")!=undefined&&e(this).data("part")!=undefined){var c=e(this).data("total")/100;percent=(e(this).data("part")/c/100).toFixed(3);o=(e(this).data("part")/c).toFixed(3)}else{if(e(this).data("percent")!=undefined){percent=e(this).data("percent")/100;o=e(this).data("percent")}else{percent=r.percent/100}}if(e(this).data("info")!=undefined){l=e(this).data("info");if(e(this).data("type")!=undefined){C=e(this).data("type");if(C=="half"){A(u,.9)}else{A(u,1.25)}}else{A(u,1.25)}}e(this).width(i.dimension+"px");var h=e("<canvas></canvas>").attr({width:i.dimension,height:i.dimension}).appendTo(e(this)).get(0);var p=h.getContext("2d");var d=h.width/2;var v=h.height/2;var m=i.percent*360;var g=m*(Math.PI/180);var y=h.width/2.5;var b=2.3*Math.PI;var w=0;var E=false;var S=i.animationstep===0?o:0;var x=Math.max(i.animationstep,0);var T=Math.PI*2;var N=Math.PI/2;var C="";var k=true;if(e(this).data("type")!=undefined){C=e(this).data("type");if(C=="half"){b=2*Math.PI;w=3.13;T=Math.PI*1;N=Math.PI/.996}}M(S/100)})}})(jQuery)